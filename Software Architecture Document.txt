Software Architecture Document 

 
Project: Dreamcatcher 

Version: Draft 

Author: AV 

   

1.Введение 

Цель. 
Этот документ поможет проследить назначение ПО и логику принятия решений при разработке. Он также объявит важные архитектурные драйверы, такие как бизнес, функциональные, нефункциональные требования и ограничения, которые определяют архитектуру. 


Сфера действия. 
SAD охватывает описание структуры системы, стека технологий, определенной среды и перспектив конкретных операций. 

 

2.Архитектурный бэкграунд. 

Обзор системы. 

Общая цель — быстро разработать MVP торговой системы  для работы с централизованными криптобиржами. Заказчик планирует проверить жизнеспособность и прибыльность торговых стратегий, а также провести торговлю. Как следствие, система должна иметь некоторую универсальность: 
возможность работы с различными API криптобирж, выполнение торговых операций по сигналам различных торговых алгоритмов. Система также должна включать в себя мониторинг и историю торговых операций. 
Структура и кодовая база протестированных торговых алгоритмов не подлежит публикации в открытом доступе. Заказчик должен иметь возможность настраивать алгоритмы через пользовательский интерфейс (ЛК). 
Для генерации сигналов торговым стратегиям необходимо получать и сохранять данные с бирж. 
 
 
Бизнес-кейс. 
Контекстная диаграмма верхнего уровня 

  

Задуманное решение позволит пользователю вручную установить необходимые настройки алгоритмов торговли, управления рисками, сигналов для начала и завершения сделки или торговли. 
Также будет формировать и отображать статистику результатов и торговых операций в целом и по каждому алгоритму. Торговля и взаимодействие системы будет происходить с одной или несколькими биржами. Это решение будет развернуто локально или на удаленном хостинге. 

 

Бизнес-цель. 

#           Описание 

БЦ-1     Формирование ожидаемых прибыльных торговых стратегий путем мониторинга состояния рынка, генерации торговых сигналов и их анализа 
БЦ-2     Осуществление тестовой и рабочей торговли по предоставленным стратегиям, с использованием риск- и мани-менеджмента. 
БЦ-3     Анализ результатов стратегии и построение статистики. 
 
 



Основные функции. 

#                Описание 

Ф-1    Получение от источников данных - бирж: торгуемых пар, а так же их доступности для торговли,  цен  покупки - продажи, обьем торговых ордеров, возможность вывода и др. без апи ключей (при возможности).   (Crawler) 

Ф-2    Поиск аномалий, удовлетворяющих запросам стратегий из Ф-3. Фиксация времени наступления  и окончания события (определение продолжительности), глубины и объема аномалии. Передача информации получателям и сохранение ее в БД, для последующего анализа.  (Matching engine) 

Ф-3    Наполнение и администрирование пула  алгоритмами торговых стратегий. (Strategic domain) 

Ф-4    Управление капиталом, путем расчета объема средств используемых в каждой стратегии, в соответствии с установленными пользователем лимитами риска. Управление доступом торговых роботов  к выделенным средствам, выбор места применения.
       Сохранение в БД результатов торговых операций. (Money manager) 

Ф-5    Логика выполнения торговых операций и их выполнение на основе получаемых сигналов и шаблонов торговли от выбранных стратегий из Ф-3 и средств для осуществление этих операций (с учетом собственной готовности к их выполнению). 
       Передача получателям информации о произведенных действиях  и сохранение ее в БД.  (Trade robot)    

Ф-6    Подсчет прибыльности и убыточности, расходов, частоты операций, объемов использованных средств в каждой стратегии.  (Statistic module) 

Ф-7    Отображение необходимых данных пользователю, получаемых и генерируемых в предыдущих функциях. Интерфейс для установки пользователем настроек для Ф-4. (Display module) 

  
 

Архитектура и бизнес-ограничения 

Беспокойства архитектуры 
 

Сценарии использования  

Для Ф-1: 

#                Описание 

А-1     Сама система (crawler) 

СИ-1    При запуске А-1 подключается к апи бирж, находящимся в пуле, получает информацию о торгуемых активах и торговых парах.(initialization) 

СИ-2    А-1 устанавливает подключение по вебсокетам к торговым парам и получает цены покупки-продажи, объемы торговых ордеров.(connection) 

СИ-3    А-1 сохраняет данные в кеш и непрерывно обновляет их. (store) 


Для Ф-2: 

#                Описание 

А-1      Сама система (matching engine) 

СИ-1     Загружает из Strategic domain, доступные шаблоны вычисления аномалий, соответствующие стратегиям. 

CИ-2     А-1 получает выборочные данные из кеша для каждой стратегии  отдельно, непрерывно производит вычисление начала и завершения аномалий. При наступлении события, присваивает ему id (фиксируя его атрибуты, выделяя в отдельный поток учитывая код стратегии и др. данные). 
         Отслеживает по id события, время его завершения. Удаляет поток. (matching and identification) 

СИ-3     Немедленно отправляет  информацию по событиям  получателям.  (fast sending) 


СИ-4     После быстрой отправки, отправляет на сохранение в БД .     (lazy sending) 

Для Ф-3: 

#                Описание 

А-1       Разработчик ПО (software developer) 

СИ-1      Формирует кодовую базу стратегии, и добавляет в пул, готовые к использованию(состоят: шаблон вычисления аномалий,  шаблон алгоритма торговых операций)  

А-2       Сама система (strategic domain) 

СИ -1     Проводит мониторинг версий стратегий, загруженных в пул и используемых другими функциями, при несоответсвии, отправляет уведомление на обновление (остановка экземпляров старых версий и запуск новых)  matching engine и торговому роботу. 


 
Сценарии атрибутов качества 


АК - 1   
 

 
